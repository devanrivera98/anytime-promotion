"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createSelector = void 0;
const aria_pseudo_class_1 = require("./extended-selector/aria-pseudo-class");
const aria_role_pseudo_class_1 = require("./extended-selector/aria-role-pseudo-class");
const content_model_pseudo_class_1 = require("./extended-selector/content-model-pseudo-class");
const selector_1 = require("./selector");
const caches = new Map();
function createSelector(selector, specs) {
    let instance = caches.get(selector);
    if (instance) {
        return instance;
    }
    instance = new selector_1.Selector(selector, specs
        ? {
            model: (0, content_model_pseudo_class_1.contentModelPseudoClass)(specs),
            aria: (0, aria_pseudo_class_1.ariaPseudoClass)(),
            role: (0, aria_role_pseudo_class_1.ariaRolePseudoClass)(specs),
        }
        : undefined);
    caches.set(selector, instance);
    return instance;
}
exports.createSelector = createSelector;
