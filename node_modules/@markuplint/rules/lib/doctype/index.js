"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const ml_core_1 = require("@markuplint/ml-core");
exports.default = (0, ml_core_1.createRule)({
    defaultValue: 'always',
    defaultOptions: {
        denyObsoleteType: true,
    },
    verify({ document, report, t }) {
        if (document.isFragment) {
            return;
        }
        const doctype = document.doctype;
        if (!doctype) {
            report({
                message: t('Require {0}', 'doctype'),
                line: 1,
                col: 1,
                raw: '',
            });
            return;
        }
        if ((doctype.name.toLowerCase() === 'html' && doctype.publicId) || doctype.systemId) {
            report({
                scope: doctype,
                message: t('Never {0} {1}', 'declare', 'obsolete doctype'),
            });
        }
    },
});
