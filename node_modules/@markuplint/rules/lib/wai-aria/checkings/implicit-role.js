"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkingImplicitRole = void 0;
const ml_spec_1 = require("@markuplint/ml-spec");
const checkingImplicitRole = ({ attr }) => t => {
    var _a;
    const implicitRole = (0, ml_spec_1.getImplicitRoleName)(attr.ownerElement, attr.rule.options.version, attr.ownerMLDocument.specs);
    const tokens = (_a = attr.tokenList) === null || _a === void 0 ? void 0 : _a.allTokens();
    if (!tokens) {
        return;
    }
    for (const token of tokens) {
        if (implicitRole === token.raw) {
            return {
                scope: token,
                message: t('{0} is {1}', t('the "{0*}" {1}', token.raw, 'role'), t('{0} of {1}', 'the implicit role', t('the "{0*}" {1}', attr.ownerElement.localName, 'element'))),
            };
        }
    }
};
exports.checkingImplicitRole = checkingImplicitRole;
