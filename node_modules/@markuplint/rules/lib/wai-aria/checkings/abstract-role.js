"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.checkingAbstractRole = void 0;
const ml_spec_1 = require("@markuplint/ml-spec");
const checkingAbstractRole = ({ attr }) => t => {
    var _a;
    const { roles } = (0, ml_spec_1.ariaSpecs)(attr.ownerMLDocument.specs, attr.rule.options.version);
    const tokens = (_a = attr.tokenList) === null || _a === void 0 ? void 0 : _a.allTokens();
    if (!tokens) {
        return;
    }
    for (const token of tokens) {
        const role = roles.find(r => r.name === token.raw);
        if (role === null || role === void 0 ? void 0 : role.isAbstract) {
            return {
                scope: token,
                message: t('{0} is {1}', t('the "{0*}" {1}', token.raw, 'role'), 'the abstract role'),
            };
        }
    }
};
exports.checkingAbstractRole = checkingAbstractRole;
